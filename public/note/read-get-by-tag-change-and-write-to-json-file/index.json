
[
{
"list_tag" : " app,  Back_End,  Bassic,  coding,  CSS,  Design,  Front_End,  Git,  Github,  Gitlab,  Header,  HTML,  info,  Jaringan,  Linux,  Security,  Server,  shell,  tag,  Termux,  Tutorial,  Ubuntu,  web,  Web_Design, "
},
{
"content" : "<h2 id='read-get-by-tag-change-and-write-to-json-file'>Read get by tag change and write to json file</h2><h3 id='code'>code</h3><div class='highlight'><pre tabindex='0' style='color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4'><code class='language-javascript' data-lang='javascript'><span style='color:#66d9ef'>const</span> <span style='color:#a6e22e'>fs</span> <span style='color:#f92672'>=</span> <span style='color:#a6e22e'>require</span>(<span style='color:#e6db74'>&#34;fs&#34;</span>);<span style='color:#66d9ef'>var</span> <span style='color:#a6e22e'>path</span> <span style='color:#f92672'>=</span> <span style='color:#a6e22e'>require</span>(<span style='color:#e6db74'>&#34;path&#34;</span>);<span style='color:#66d9ef'>const</span> { <span style='color:#a6e22e'>exec</span> } <span style='color:#f92672'>=</span> <span style='color:#a6e22e'>require</span>(<span style='color:#e6db74'>&#39;child_process&#39;</span>);<span style='color:#75715e'>// add api</span><span style='color:#75715e'>// const mypath = []</span><span style='color:#75715e'></span><span style='color:#66d9ef'>function</span> <span style='color:#a6e22e'>fromDir</span>(<span style='color:#a6e22e'>startPath</span>, <span style='color:#a6e22e'>filter</span>) {  <span style='color:#75715e'>//console.log(&#39;Starting from dir &#39;+startPath+&#39;/&#39;);</span><span style='color:#75715e'></span>  <span style='color:#66d9ef'>if</span> (<span style='color:#f92672'>!</span><span style='color:#a6e22e'>fs</span>.<span style='color:#a6e22e'>existsSync</span>(<span style='color:#a6e22e'>startPath</span>)) {    <span style='color:#75715e'>// console.log(&#34;no dir &#34;, startPath);</span><span style='color:#75715e'></span>    <span style='color:#66d9ef'>return</span>;  }  <span style='color:#66d9ef'>var</span> <span style='color:#a6e22e'>files</span> <span style='color:#f92672'>=</span> <span style='color:#a6e22e'>fs</span>.<span style='color:#a6e22e'>readdirSync</span>(<span style='color:#a6e22e'>startPath</span>);  <span style='color:#66d9ef'>for</span> (<span style='color:#66d9ef'>var</span> <span style='color:#a6e22e'>i</span> <span style='color:#f92672'>=</span> <span style='color:#ae81ff'>0</span>; <span style='color:#a6e22e'>i</span> <span style='color:#f92672'>&lt;</span> <span style='color:#a6e22e'>files</span>.<span style='color:#a6e22e'>length</span>; <span style='color:#a6e22e'>i</span><span style='color:#f92672'>++</span>) {    <span style='color:#66d9ef'>var</span> <span style='color:#a6e22e'>filename</span> <span style='color:#f92672'>=</span> <span style='color:#a6e22e'>path</span>.<span style='color:#a6e22e'>join</span>(<span style='color:#a6e22e'>startPath</span>, <span style='color:#a6e22e'>files</span>[<span style='color:#a6e22e'>i</span>]);    <span style='color:#66d9ef'>var</span> <span style='color:#a6e22e'>stat</span> <span style='color:#f92672'>=</span> <span style='color:#a6e22e'>fs</span>.<span style='color:#a6e22e'>lstatSync</span>(<span style='color:#a6e22e'>filename</span>);    <span style='color:#75715e'>// console.log(stat)</span><span style='color:#75715e'></span>    <span style='color:#66d9ef'>if</span> (<span style='color:#a6e22e'>stat</span>.<span style='color:#a6e22e'>isDirectory</span>()) {      <span style='color:#75715e'>// console.log(filename)</span><span style='color:#75715e'></span>      <span style='color:#a6e22e'>fromDir</span>(<span style='color:#a6e22e'>filename</span>, <span style='color:#a6e22e'>filter</span>); <span style='color:#75715e'>//recurse</span><span style='color:#75715e'></span>    } <span style='color:#66d9ef'>else</span> <span style='color:#66d9ef'>if</span> (<span style='color:#a6e22e'>filename</span>.<span style='color:#a6e22e'>indexOf</span>(<span style='color:#a6e22e'>filter</span>) <span style='color:#f92672'>&gt;=</span> <span style='color:#ae81ff'>0</span>) {      <span style='color:#75715e'>// console.log(&#39;-- found: /&#39;,filename)</span><span style='color:#75715e'></span>      <span style='color:#75715e'>// mypath.push(`/${filename}`)</span><span style='color:#75715e'></span>      <span style='color:#a6e22e'>filename</span>.<span style='color:#a6e22e'>replace</span>(<span style='color:#e6db74'>/(.*)\.html/</span>, <span style='color:#66d9ef'>function</span> (<span style='color:#a6e22e'>e</span>, <span style='color:#a6e22e'>name_data</span>) {        <span style='color:#75715e'>// read file</span><span style='color:#75715e'></span>        <span style='color:#a6e22e'>data</span> <span style='color:#f92672'>=</span> <span style='color:#a6e22e'>fs</span>.<span style='color:#a6e22e'>readFileSync</span>(<span style='color:#a6e22e'>e</span>, <span style='color:#e6db74'>&#34;utf8&#34;</span>, <span style='color:#66d9ef'>function</span> (<span style='color:#a6e22e'>err</span>, <span style='color:#a6e22e'>html</span>) {          <span style='color:#66d9ef'>if</span> (<span style='color:#a6e22e'>err</span>) {            <span style='color:#66d9ef'>throw</span> <span style='color:#a6e22e'>err</span>;          }          <span style='color:#66d9ef'>return</span> <span style='color:#a6e22e'>html</span>;        });        <span style='color:#75715e'>// console.log(data)</span><span style='color:#75715e'></span>        <span style='color:#75715e'>// get body</span><span style='color:#75715e'></span>        <span style='color:#a6e22e'>data</span>.<span style='color:#a6e22e'>replace</span>(<span style='color:#e6db74'>/\&lt;body.*\&gt;\n([\W\w]+?)\&lt;\/body\&gt;/gim</span>, <span style='color:#66d9ef'>function</span> (<span style='color:#a6e22e'>e</span>, <span style='color:#a6e22e'>a</span>) {          <span style='color:#75715e'>// create json data</span><span style='color:#75715e'></span>          <span style='color:#66d9ef'>const</span> <span style='color:#a6e22e'>content</span> <span style='color:#f92672'>=</span>            <span style='color:#e6db74'>&#39;{&#34;content&#34;:&#34;&#39;</span> <span style='color:#f92672'>+</span>            <span style='color:#75715e'>// replace enter and &#34;</span><span style='color:#75715e'></span>            <span style='color:#a6e22e'>a</span>.<span style='color:#a6e22e'>replace</span>(<span style='color:#e6db74'>/\n/gim</span>, <span style='color:#e6db74'>&#34;&#34;</span>).<span style='color:#a6e22e'>replace</span>(<span style='color:#e6db74'>/\&#34;/gim</span>, <span style='color:#e6db74'>&#39;\\&#34;&#39;</span>) <span style='color:#f92672'>+</span>            <span style='color:#e6db74'>&#39;&#34;}&#39;</span>;          <span style='color:#a6e22e'>console</span>.<span style='color:#a6e22e'>log</span>(<span style='color:#a6e22e'>content</span>)          <span style='color:#a6e22e'>fs</span>.<span style='color:#a6e22e'>writeFileSync</span>(<span style='color:#e6db74'>`</span><span style='color:#e6db74'>${</span><span style='color:#a6e22e'>name_data</span><span style='color:#e6db74'>}</span><span style='color:#e6db74'>.json`</span>, <span style='color:#a6e22e'>content</span>);        });      });    }  }}<span style='color:#a6e22e'>fromDir</span>(<span style='color:#e6db74'>&#34;public&#34;</span>, <span style='color:#e6db74'>&#34;.html&#34;</span>);</code></pre></div>"
}
]
